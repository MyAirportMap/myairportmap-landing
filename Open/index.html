<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#0b1220" />
  <title>Open • MyAirportMap</title>
  <link rel="stylesheet" href="/assets/site.css" />
  <style>
    .center{max-width:720px;margin:0 auto}
    .stack{display:flex;flex-direction:column;gap:12px}
    .pill{padding:12px 14px;border-radius:18px;border:1px solid var(--stroke);background:rgba(255,255,255,.04)}
    .pill h2{margin:0 0 6px;font-size:16px}
    .pill p{margin:0;color:var(--muted);font-size:13px;line-height:1.45}
    .qrOnly{display:none}
  </style>
</head>
<body>
  <main class="wrap center">
    <header class="top">
      <div class="brand">
        <img class="brandmark" src="/assets/brandmark.png" alt="MyAirportMap" />
        <div class="brandtext">
          <div class="brandname">MyAirportMap</div>
          <div class="tagline">Open & Install</div>
        </div>
      </div>
      <nav class="toplinks">
        <a class="link" href="/">Home</a>
      </nav>
    </header>

    <section class="hero">
      <h1 id="headline">Open MyAirportMap</h1>
      <p class="subtext" id="subline">Private by default. Share what you choose.</p>

      <div class="ctaRow">
        <a class="btn primary" href="https://app.myairportmap.com/app">Open the App</a>
        <a class="btn" href="https://app.myairportmap.com/sign-in">Log In</a>
        <a class="btn ghost" href="https://app.myairportmap.com/sign-up">Sign Up</a>
      </div>

      <div class="note" id="hint">On mobile, install for an app icon + full-screen.</div>
    </section>

    <section class="grid" style="grid-template-columns:1fr; margin-top:12px;">
      <article class="card" id="iosCard">
        <h2>Install on iPhone (Safari)</h2>
        <ol>
          <li>Tap <strong>Share</strong></li>
          <li>Tap <strong>Add to Home Screen</strong></li>
          <li>Launch from your icon</li>
        </ol>
      </article>

      <article class="card" id="androidCard">
        <h2>Install on Android (Chrome)</h2>
        <ol>
          <li>Tap the <strong>⋮</strong> menu</li>
          <li>Tap <strong>Install app</strong> or <strong>Add to Home screen</strong></li>
          <li>Launch from your icon</li>
        </ol>
      </article>

      <article class="card qrOnly" id="desktopQR">
        <h2>Open on your phone</h2>
        <p>Scan this to open this page on mobile:</p>
        <div class="qrBox"><img id="qrImg" alt="QR code to /open" /></div>
        <div class="small">https://myairportmap.com/open</div>
      </article>
    </section>

    <footer class="footer">
      <a class="small link" href="https://app.myairportmap.com/app">Open App</a>
      <span class="small">•</span>
      <a class="small link" href="/">Home</a>
    </footer>
  </main>

  <script>
    (function () {
      const ua = navigator.userAgent || "";
      const isAndroid = /Android/i.test(ua);
      const isIOS = /iPhone|iPad|iPod/i.test(ua);
      const isMobile = isAndroid || isIOS || /Mobi/i.test(ua);

      const iosCard = document.getElementById("iosCard");
      const androidCard = document.getElementById("androidCard");
      const desktopQR = document.getElementById("desktopQR");
      const hint = document.getElementById("hint");

      if (!isMobile) {
        // Desktop: show QR prominently, and simplify.
        iosCard.style.display = "none";
        androidCard.style.display = "none";
        desktopQR.style.display = "block";
        hint.textContent = "Scan the QR to open this install page on your phone.";
        const img = document.getElementById("qrImg");
        img.src = "https://api.qrserver.com/v1/create-qr-code/?size=240x240&data=" + encodeURIComponent("https://myairportmap.com/open");
      } else {
        // Mobile: show relevant install card
        desktopQR.style.display = "none";
        if (isIOS) androidCard.style.display = "none";
        if (isAndroid) iosCard.style.display = "none";
      }
    })();
  </script>
</body>
</html>
